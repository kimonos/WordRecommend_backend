spring.application.name=WordRecommend_backend
server.port=${SERVER_PORT:8080}

spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/smart_learning_db}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:true}


learning.algorithm.beta-penalty=${LEARNING_BETA_PENALTY:0.3}
learning.algorithm.gamma-speed=${LEARNING_GAMMA_SPEED:0.05}
learning.algorithm.t-max-ms=${LEARNING_T_MAX_MS:15000}


learning.algorithm.w1-strength=${LEARNING_W1_STRENGTH:0.7}
learning.algorithm.w2-urgency=${LEARNING_W2_URGENCY:0.3}

learning.algorithm.threshold-s1=${LEARNING_THRESHOLD_S1:0.10}
learning.algorithm.threshold-s2=${LEARNING_THRESHOLD_S2:0.5}
learning.algorithm.threshold-s3=${LEARNING_THRESHOLD_S3:0.85}

learning.algorithm.alpha-reward=${LEARNING_ALPHA_REWARD:0.1}
learning.algorithm.alpha-reward-s0=${LEARNING_ALPHA_REWARD_S0:0.10}
learning.algorithm.alpha-reward-s1=${LEARNING_ALPHA_REWARD_S1:0.15}
learning.algorithm.alpha-reward-s2=${LEARNING_ALPHA_REWARD_S2:0.10}
learning.algorithm.alpha-reward-s3=${LEARNING_ALPHA_REWARD_S3:0.05}

# ==================== Algorithm v2.0 Parameters (?????) ====================

# ??????
algorithm.alpha-reading=${ALGORITHM_ALPHA_READING:0.05}

# ????????
algorithm.min-effective-reading-seconds=${ALGORITHM_MIN_EFFECTIVE_READING_SECONDS:5.0}

# ??????
algorithm.optimal-reading-seconds=${ALGORITHM_OPTIMAL_READING_SECONDS:30.0}

# ????
algorithm.k-diminishing=${ALGORITHM_K_DIMINISHING:0.3}

# ????
algorithm.k-forgotten=${ALGORITHM_K_FORGOTTEN:0.1}

# S-1 ????
algorithm.k-s1-bonus=${ALGORITHM_K_S1_BONUS:50.0}


# JWT Secret Key - ??????? JWT ???
jwt.secret=${JWT_SECRET}
# JWT Expiration Time (in milliseconds) - ???? 24 ??
jwt.expiration=${JWT_EXPIRATION:3600000}


# === Google OAuth2 ===
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=openid,profile,email
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/login/oauth2/code/{registrationId}}

# === GitHub OAuth2 ===
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.scope=user:email
spring.security.oauth2.client.registration.github.redirect-uri=${GITHUB_REDIRECT_URI:http://localhost:8080/login/oauth2/code/{registrationId}}

# --- ???????? ---
app.security.frontend-url=${FRONTEND_URL:http://localhost:5173}

# --- JWT ? Cookie ?? ---
app.security.jwt-cookie-name=${JWT_COOKIE_NAME:APP_TOKEN}

# ==== Refresh Token (RT) ====
# RT Cookie ??
app.security.rt-cookie-name=${RT_COOKIE_NAME:APP_RT}

# RT ??????????30?
app.security.rt-expiration=${RT_EXPIRATION:2592000000}

# RT Cookie Path ???/auth ? /auth/refresh
app.security.rt-cookie-path=${RT_COOKIE_PATH:/auth}

# RT ???HMAC????
refresh.hmac.secret=${REFRESH_HMAC_SECRET}


# --- Cookie ???? true + SameSite=Lax/None ---
app.security.cookie-secure=${COOKIE_SECURE:false}
app.security.cookie-samesite=${COOKIE_SAMESITE:Lax}

# ==================== ?????? ====================

# ????????Gmail SMTP?
# ????????????????
# ???
# - Gmail: smtp.gmail.com
# - Outlook: smtp.office365.com
# - Yahoo: smtp.mail.yahoo.com
spring.mail.host=${MAIL_HOST:smtp.gmail.com}

# ???????
# 587: STARTTLS?????????
# 465: SSL?????????
# 25: ????????
spring.mail.port=${MAIL_PORT:587}

# ???????
# ?? ????????? Gmail ??
# ???your-email@gmail.com
spring.mail.username=${MAIL_USERNAME}

# ???????
# ?? ???????? Gmail ???
# ?????????????App Password?
#
# ???? Gmail ???????
# 1. ?? Google ??
# 2. ???https://myaccount.google.com/apppasswords
# 3. ?????????????????
# 4. ????????WordRecommend?
# 5. ??????
# 6. ?? 16 ???????xxxx xxxx xxxx xxxx?
# 7. ??????????
spring.mail.password=${MAIL_PASSWORD}

# SMTP ????????
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}

# STARTTLS ??????????????
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS_ENABLE:true}

# STARTTLS ????????????
spring.mail.properties.mail.smtp.starttls.required=${MAIL_SMTP_STARTTLS_REQUIRED:true}

# ??????????
# ???5 ?
spring.mail.properties.mail.smtp.connectiontimeout=${MAIL_SMTP_CONNECTION_TIMEOUT:5000}

# ??????????
# ???5 ?
spring.mail.properties.mail.smtp.timeout=${MAIL_SMTP_TIMEOUT:5000}

# ??????????
# ???5 ?
spring.mail.properties.mail.smtp.writetimeout=${MAIL_SMTP_WRITE_TIMEOUT:5000}

# ??????????????????
# true: ?? SMTP ??????
# false: ??????
spring.mail.properties.mail.debug=${MAIL_DEBUG:false}

# ==================== ?? URL ?? ====================

# ???? URL
# ???????????
# ?????http://localhost:5173
# ?????https://your-domain.com
frontend.base-url=${FRONTEND_BASE_URL:http://localhost:5173}

# ==================== ?????? ====================

# Token ????????
# ???1 ??
# ???
# - 1: 1 ?????
# - 2: 2 ?????
# - 0.5: 30 ?????????????
password-reset.token-expiry-hours=${PASSWORD_RESET_TOKEN_EXPIRY_HOURS:1}

# ==================== ????????????????====================

# ??????
# ??????????????????????
spring.task.execution.pool.core-size=${TASK_EXECUTION_CORE_SIZE:2}
spring.task.execution.pool.max-size=${TASK_EXECUTION_MAX_SIZE:5}
spring.task.execution.pool.queue-capacity=${TASK_EXECUTION_QUEUE_CAPACITY:100}
spring.task.execution.thread-name-prefix=${TASK_EXECUTION_THREAD_PREFIX:async-task-}

# ==================== ?????? ====================

# ?????????
# ???1
# ???2-5????????????
spring.task.scheduling.pool.size=${TASK_SCHEDULING_POOL_SIZE:2}

# ??????????
# ?????????????????
spring.task.scheduling.thread-name-prefix=${TASK_SCHEDULING_THREAD_PREFIX:scheduled-task-}

# ?????????????
# ????????????????????????
# ????????????
# ???30 ?
spring.task.scheduling.shutdown.await-termination=${TASK_SCHEDULING_AWAIT_TERMINATION:true}
spring.task.scheduling.shutdown.await-termination-period=${TASK_SCHEDULING_AWAIT_TERMINATION_PERIOD:30s}